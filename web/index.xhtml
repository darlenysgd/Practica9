<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
   <title>Lista de Contactos</title>
</h:head>

<h:body>
   <p:dataTable id="singleDT" var="c" value="#{dtFormRegistro.contactos}" selectionMode="single" selection="#{dtFormRegistro.contactoSeleccionado}" rowKey="#{c.id}">

      <f:facet name="header">
         <p:outputPanel>
            <h:button icon="ui-icon-plusthick" value="Agregar Nuevo" outcome="Registro"/>
         </p:outputPanel>
      </f:facet>

      <p:column headerText="Id">
         <p:commandLink value="#{c.id}" oncomplete="PF('test').show()" update=":dialog"/>
      </p:column>
      <p:column headerText="Nombre">
         <h:outputText value="#{c.nombre}" />
      </p:column>
      <p:column headerText="Apellido">
         <h:outputText value="#{c.apellido}" />
      </p:column>
      <p:column headerText="Direccion">
         <h:outputText value="#{c.direccion}" />
      </p:column>
      <p:column headerText="Telefono">
         <h:outputText value="#{c.telefono}" />
      </p:column>
      <p:column headerText="Correo">
         <h:outputText value="#{c.correo}" />
      </p:column>
      <f:facet name="footer">

         <p:commandButton  icon="ui-icon-search" value="Editar"/>
         <p:commandButton  process="singleDT" action="#{dtFormRegistro.eliminar}" icon="ui-icon-trash" value="Borrar"/>
      </f:facet>
   </p:dataTable>


</h:body>

<p:dialog modal="true" width="500" height="500" widgetVar="test"
          id="dialog" draggable="false">
   <p:panelGrid  columns="2" columnClasses="label,value">
   <f:facet name="header">
      <h:outputText value="InformaciÃ³n del Contacto :" />
   </f:facet>
      <h:outputText value="Id" />
      <h:outputText value="#{dtFormRegistro.contactoSeleccionado.id}" />

      <h:outputText value="Nombre" />
      <h:outputText value="#{dtFormRegistro.contactoSeleccionado.nombre}" />

      <h:outputText value="Apellido" />
      <h:outputText value="#{dtFormRegistro.contactoSeleccionado.apellido}" />

      <h:outputText value="Direccion" />
      <h:outputText value="#{dtFormRegistro.contactoSeleccionado.direccion}" />

      <h:outputText value="Telefono" />
      <h:outputText value="#{dtFormRegistro.contactoSeleccionado.telefono}" />

      <h:outputText value="Correo" />
      <h:outputText value="#{dtFormRegistro.contactoSeleccionado.correo}" />
   </p:panelGrid>
</p:dialog>

</html>